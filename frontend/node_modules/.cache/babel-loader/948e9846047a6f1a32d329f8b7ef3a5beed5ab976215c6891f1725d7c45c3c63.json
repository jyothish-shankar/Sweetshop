{"ast":null,"code":"const BASE_URL = 'http://localhost:5000/api';\nconst apiFetch = async (endpoint, options = {}) => {\n  const {\n    body,\n    ...customConfig\n  } = options;\n  const token = localStorage.getItem('token');\n  const headers = {\n    'Content-Type': 'application/json'\n  };\n  if (token) {\n    headers.Authorization = `Bearer ${token}`;\n  }\n  const config = {\n    ...customConfig,\n    headers\n  };\n  if (body) {\n    config.body = JSON.stringify(body);\n  }\n  try {\n    const response = await fetch(`${BASE_URL}${endpoint}`, config);\n    if (response.status === 204) {\n      return;\n    }\n    const data = await response.json();\n    if (!response.ok) {\n      return Promise.reject(data);\n    }\n    return data;\n  } catch (err) {\n    return Promise.reject({\n      message: err.message\n    });\n  }\n};\nexport default apiFetch;","map":{"version":3,"names":["BASE_URL","apiFetch","endpoint","options","body","customConfig","token","localStorage","getItem","headers","Authorization","config","JSON","stringify","response","fetch","status","data","json","ok","Promise","reject","err","message"],"sources":["C:/Users/kodik/sweet-shop-management/frontend/src/api/api.js"],"sourcesContent":["const BASE_URL = 'http://localhost:5000/api';\r\n\r\nconst apiFetch = async (endpoint, options = {}) => {\r\n  const { body, ...customConfig } = options;\r\n  const token = localStorage.getItem('token');\r\n  \r\n  const headers = {\r\n    'Content-Type': 'application/json',\r\n  };\r\n\r\n  if (token) {\r\n    headers.Authorization = `Bearer ${token}`;\r\n  }\r\n\r\n  const config = {\r\n    ...customConfig,\r\n    headers,\r\n  };\r\n\r\n  if (body) {\r\n    config.body = JSON.stringify(body);\r\n  }\r\n\r\n  try {\r\n    const response = await fetch(`${BASE_URL}${endpoint}`, config);\r\n    \r\n    if (response.status === 204) {\r\n        return; \r\n    }\r\n    \r\n    const data = await response.json();\r\n\r\n    if (!response.ok) {\r\n      return Promise.reject(data);\r\n    }\r\n    \r\n    return data;\r\n  } catch (err) {\r\n    return Promise.reject({ message: err.message });\r\n  }\r\n};\r\n\r\nexport default apiFetch;"],"mappings":"AAAA,MAAMA,QAAQ,GAAG,2BAA2B;AAE5C,MAAMC,QAAQ,GAAG,MAAAA,CAAOC,QAAQ,EAAEC,OAAO,GAAG,CAAC,CAAC,KAAK;EACjD,MAAM;IAAEC,IAAI;IAAE,GAAGC;EAAa,CAAC,GAAGF,OAAO;EACzC,MAAMG,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAE3C,MAAMC,OAAO,GAAG;IACd,cAAc,EAAE;EAClB,CAAC;EAED,IAAIH,KAAK,EAAE;IACTG,OAAO,CAACC,aAAa,GAAG,UAAUJ,KAAK,EAAE;EAC3C;EAEA,MAAMK,MAAM,GAAG;IACb,GAAGN,YAAY;IACfI;EACF,CAAC;EAED,IAAIL,IAAI,EAAE;IACRO,MAAM,CAACP,IAAI,GAAGQ,IAAI,CAACC,SAAS,CAACT,IAAI,CAAC;EACpC;EAEA,IAAI;IACF,MAAMU,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGf,QAAQ,GAAGE,QAAQ,EAAE,EAAES,MAAM,CAAC;IAE9D,IAAIG,QAAQ,CAACE,MAAM,KAAK,GAAG,EAAE;MACzB;IACJ;IAEA,MAAMC,IAAI,GAAG,MAAMH,QAAQ,CAACI,IAAI,CAAC,CAAC;IAElC,IAAI,CAACJ,QAAQ,CAACK,EAAE,EAAE;MAChB,OAAOC,OAAO,CAACC,MAAM,CAACJ,IAAI,CAAC;IAC7B;IAEA,OAAOA,IAAI;EACb,CAAC,CAAC,OAAOK,GAAG,EAAE;IACZ,OAAOF,OAAO,CAACC,MAAM,CAAC;MAAEE,OAAO,EAAED,GAAG,CAACC;IAAQ,CAAC,CAAC;EACjD;AACF,CAAC;AAED,eAAetB,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}